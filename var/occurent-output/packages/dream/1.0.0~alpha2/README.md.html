<div><p>Dream is <b>one flat module</b> in <b>one package</b>, documented on<br/><a href="https://aantron.github.io/dream/#types"><b>one page</b></a>, but with <a href="https://github.com/aantron/dream/tree/master/example#readme"><b>many examples</b></a>. It offers:</p><ul><li><p><a href="https://github.com/aantron/dream/tree/master/example/k-websocket#files"><b>WebSockets</b></a> and <a href="https://github.com/aantron/dream/tree/master/example/w-graphql-subscription#files"><b>GraphQL</b></a> for your modern Web<br/>apps.</p></li><li><p><a href="https://github.com/aantron/dream/tree/master/example/7-template#files"><b>HTML templates</b></a> with embedded OCaml or<br/><a href="https://github.com/aantron/dream/tree/master/example/r-template#files">Reason</a> — use existing skills!</p></li><li><p><a href="https://github.com/aantron/dream/tree/master/example/b-session#files"><b>Sessions</b></a> with pluggable storage <a href="https://aantron.github.io/dream/#back-ends">back ends</a>.</p></li><li><p>Easy <a href="https://github.com/aantron/dream/tree/master/example/l-https#files"><b>HTTPS</b> and <b>HTTP/2</b> support</a> — Dream runs without a<br/>proxy.</p></li><li><p>Helpers for <a href="https://aantron.github.io/dream/#cookies"><b>secure cookies</b></a> and<br/><a href="https://aantron.github.io/dream/#forms"><b>CSRF-safe forms</b></a>.</p></li><li><p><b>Full-stack ML</b> with clients compiled by <a href="https://github.com/aantron/dream/tree/master/example/r-fullstack-melange#files"><b>Melange</b></a>,<br/><a href="https://github.com/aantron/dream/tree/master/example/w-fullstack-rescript#files"><b>ReScript</b></a>, or <a href="https://github.com/aantron/dream/tree/master/example/w-fullstack-jsoo#files"><b>js_of_ocaml</b></a>.</p></li></ul><p>...all without sacrificing ease of use — Dream has:</p><ul><li><p>A simple programming model — Web apps are <a href="https://aantron.github.io/dream/#type-handler"><b>just functions</b></a>!</p></li><li><p>Composable <a href="https://github.com/aantron/dream/tree/master/example/2-middleware#files"><b>middleware</b></a> and <a href="https://github.com/aantron/dream/tree/master/example/3-router#files"><b>routes</b></a>.</p></li><li><p>Unified, internationalization-friendly <a href="https://github.com/aantron/dream/tree/master/example/9-error#files"><b>error handling</b></a>.</p></li><li><p><a href="https://aantron.github.io/dream/#cryptography"><b>Cryptography</b></a> helpers, key rotation, and a chosen cipher.</p></li><li><p>A neat <a href="https://github.com/aantron/dream/tree/master/example/2-middleware#files"><b>logger</b></a>, and attention to configuring the OCaml runtime<br/>nicely.</p></li><li><p><a href="https://github.com/aantron/dream/tree/master/example#deploying"><b>Deployment</b></a> instructions for <b>Digital Ocean</b> and <b>Heroku</b>,<br/>with sample CI scripts.</p></li></ul><p>Every part of the API is arranged to be easy to understand, use, and remember.<br/>Dream sticks to base OCaml types like <code>string</code> and <code>list</code>, introducing only a<br/>few <a href="https://aantron.github.io/dream/#types">types</a> of its own — and some of those are just abbreviations<br/>for bare functions!</p><p>The neat interface is not a limitation. Everything is still configurable by a<br/>large number of optional arguments, and very loose coupling. Where necessary,<br/>Dream exposes the lower-level machinery that it is composed from. For example,<br/>the basic body and WebSocket readers <a href="https://aantron.github.io/dream/#val-body">return strings</a>, but you can<br/>also do <a href="https://aantron.github.io/dream/#streaming">zero-copy streaming</a>.</p><p>You can even run Dream as a <a href="https://aantron.github.io/dream/#builtin">quite bare abstraction</a> over its <a href="https://github.com/aantron/dream/tree/master/src/vendor">underlying<br/>set of HTTP libraries</a>, where it acts only as minimal glue code between<br/>their slightly different interfaces.</p><p>And, even though Dream is presented as one package for ordinary usage, it is<br/>internally factored into <a href="https://github.com/aantron/dream/tree/master/src">several sub-libraries</a>, according to the<br/>different dependencies of each, for fast porting to different environments.</p><p>Dream is a low-level and unopinionated framework, and you can swap out its<br/>conveniences. For example, you can use TyXML with <a href="https://github.com/aantron/dream/tree/master/example/r-tyxml#files">server-side JSX</a><br/>instead of Dream's built-in templates. You can bundle assets into a <a href="https://github.com/aantron/dream/tree/master/example/w-one-binary#files">single<br/>Dream binary</a>, or use Dream in a subcommand. Dream tries to be as<br/>functional as possible, touching global runtime state only lazily, when called<br/>into.</p><h3>Quick start</h3><p>This downloads and runs <a href="https://github.com/aantron/dream/blob/master/example/quickstart.sh"><code>quickstart.sh</code></a>, which does a<br/>sandboxed build of one of the first <a href="https://github.com/aantron/dream/tree/master/example#readme">tutorials</a>,<br/><a href="https://github.com/aantron/dream/tree/master/example/2-middleware#files"><b><code>2-middleware</code></b></a>. It's mostly the same as:</p><pre><code>git clone https://github.com/aantron/dream.git --recursive
cd dream/example/2-middleware
npm install esy &amp;&amp; npx esy
npx esy start
</code></pre><p>Knowing that, you can start from any other <a href="https://github.com/aantron/dream/tree/master/example#readme">example</a>. All of them<br/>include their own build commands. They don't have to be subdirectories of<br/><code>dream</code> — you can copy them out to start your own project directory.<br/>Especially consider starting with the <a href="https://github.com/aantron/dream/tree/master/example#full-stack">full-stack examples</a>, which<br/>build both a Dream server and a JavaScript client.</p><h4>opam</h4><pre><code>opam install dream
</code></pre><p>After that, go to one of the examples, such as <a href="https://github.com/aantron/dream/tree/master/example/1-hello#files"><b><code>1-hello</code></b></a>, and<br/>build it:</p><pre><code>cd example/1-hello
dune exec --root . ./hello.exe
</code></pre><h4>Playground</h4><p>Most of the examples are loaded into the <a href="http://dream.as">playground</a>. For instance,<br/><a href="https://github.com/aantron/dream/tree/master/example/2-middleware#files"><b><code>2-middleware</code></b></a> is at<br/><a href="http://dream.as/2-middleware">http://dream.as/2-middleware</a>.</p><h3>Documentation</h3><ul><li><p><a href="https://github.com/aantron/dream/tree/master/example#readme"><b>Tutorial</b></a> — Threads together the first several examples<br/>of Dream, touching all the basic topics, including security. See the full list<br/>and start wherever you like, or begin at <a href="https://github.com/aantron/dream/tree/master/example/1-hello#files"><b><code>1-hello</code></b></a>, the Dream<br/>version of <em>Hello, world!</em></p></li><li><p><a href="https://github.com/aantron/dream/tree/master/example#reason"><b>Reason syntax</b></a> — Several of the examples are<br/>written in Reason. See <a href="https://github.com/aantron/dream/tree/master/example/r-hello#files"><b><code>r-hello</code></b></a>.</p></li><li><p><a href="https://github.com/aantron/dream/tree/master/example#full-stack"><b>Full-stack</b></a> — See skeleton projects<br/><a href="https://github.com/aantron/dream/tree/master/example/r-fullstack-melange#files"><b><code>r-fullstack-melange</code></b></a>, <a href="https://github.com/aantron/dream/tree/master/example/w-fullstack-rescript#files"><b><code>w-fullstack-rescript</code></b></a>,<br/>and <a href="https://github.com/aantron/dream/tree/master/example/w-fullstack-jsoo#files"><b><code>w-fullstack-jsoo</code></b></a>.</p></li><li><p><a href="https://github.com/aantron/dream/tree/master/example#deploying"><b>Deploying</b></a> — Quick start instructions for<br/>small-to-medium deployments.</p></li><li><p><a href="https://github.com/aantron/dream/tree/master/example#examples"><b>Examples</b></a> — These cover various HTTP scenarios.</p></li><li><p><a href="https://aantron.github.io/dream/#types"><b>API reference</b></a></p></li><li><p><a href="https://github.com/aantron/dream/tree/master/example/w-fswatch#files">Watching</a> and <a href="https://github.com/aantron/dream/tree/master/example/w-live-reload#files">live reloading</a>.</p></li></ul><h3>Contributing</h3><p>All kinds of contributions are welcome, including examples, links to blogs,<br/>related libraries, and, of course, PRs! See <a href="https://github.com/aantron/dream/blob/master/docs/CONTRIBUTING.md">CONTRIBUTING.md</a>.</p><p>As an immediate note, if you'd like to clone the repo, be sure to use<br/><code>--recursive</code>, because Dream uses several git <a href="https://github.com/aantron/dream/tree/master/src/vendor">submodules</a>:</p><pre><code>git clone https://github.com/aantron/dream.git --recursive
</code></pre><h3>Acknowledgements</h3><p>Dream is based on work by the authors and contributors of its <a href="https://github.com/aantron/dream/blob/master/dream.opam"><b>many<br/>dependencies</b></a> and their transitive dependencies. There are, however,<br/>several influences that cannot be discovered directly:</p><ul><li><p>Templates are inspired by <a href="http://komar.in/en/code/ecaml"><b>ECaml</b></a> from <a href="https://github.com/apsheronets">Alexander Markov</a><br/>and <a href="https://github.com/EmileTrotignon/embedded_ocaml_templates"><b>Embedded OCaml Templates</b></a> from <a href="https://github.com/EmileTrotignon">Emile Trotignon</a>.</p></li><li><p>Dream's handler and middleware types are simplified from <a href="https://github.com/rgrinberg/opium"><b>Opium</b></a> by<br/><a href="https://github.com/rgrinberg">Rudi Grinberg</a> and contributors.</p></li><li><p>The lower-level HTTP and WebSocket servers are <a href="https://github.com/aantron/dream/tree/master/src/vendor">vendored</a> copies of<br/><a href="https://github.com/anmonteiro">Antonio Nuno Monteiro</a>'s forks and original works, with credit<br/>also due to their contributors, and <a href="https://github.com/seliopou">Spiros Eliopoulos</a> in<br/>particular, as the original author of two of the projects.</p></li><li><p>The API docs are instantiated by <a href="https://github.com/dmbaturin/soupault"><b>Soupault</b></a> from<br/><a href="https://github.com/dmbaturin">Daniil Baturin</a>.</p></li><li><p>The name was inspired by <a href="https://github.com/reason-native-web/morph"><b>Morph</b></a> from <a href="https://github.com/ulrikstrid">Ulrik Strid</a>,<br/>which was itself partially inspired by <a href="https://github.com/rgrinberg/opium">Opium</a>.</p></li><li><p><a href="https://github.com/persianturtle">Raphael Rafatpanah</a> and <a href="https://github.com/foocraft">El-Hassan Wanas</a> provided<br/>important early feedback.</p></li></ul></div>